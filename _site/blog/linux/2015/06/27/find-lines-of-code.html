<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"> <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Finding large code files with one command - Prashant Padmanabhan</title>
<meta property="og:title" content="Finding large code files with one command" />
<meta name="description" content="Here’s a quick way to find unusually large files with many lines of code in your codebase." />
<meta property="og:description" content="Here’s a quick way to find unusually large files with many lines of code in your codebase." />
<link rel="canonical" href="http://www.prashantp.org/blog/linux/2015/06/27/find-lines-of-code.html" />
<meta property="og:url" content="http://www.prashantp.org/blog/linux/2015/06/27/find-lines-of-code.html" />
<meta property="og:site_name" content="Prashant Padmanabhan" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2015-06-27T05:34:00+05:30" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Finding large code files with one command",
    "datePublished": "2015-06-27T05:34:00+05:30",
    "description": "Here’s a quick way to find unusually large files with many lines of code in your codebase.",
    "url": "http://www.prashantp.org/blog/linux/2015/06/27/find-lines-of-code.html"
  }
</script>
<!-- End Jekyll SEO tag -->
    <!-- Tell IE to use latest rendering engine -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="canonical" href="http://www.prashantp.org/blog/linux/2015/06/27/find-lines-of-code.html">
    <link rel="alternate" type="application/rss+xml" title="Prashant Padmanabhan" href="http://www.prashantp.org /feed.xml " />


    <!-- Latest compiled and minified CSS -->
    <!--<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">-->
    <link rel="stylesheet" type="text/css" href=" /static/css/bootstrap.min.css ">
    <link rel="stylesheet" type="text/css" href=" /static/css/site.css ">
    <link rel="stylesheet" type="text/css" href=" /static/css/monokai_sublime.min.css ">




</head>


<!--  <body data-spy="scroll" data-target="#myAffix"> -->

<body>

    <header>

    <div class="navbar navbar-inverse ">
        <nav role="navigation">
            <div class="container">
                <div class="nav navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>                        
                    </button>
                    <a class="navbar-brand" href="/">Prashant Padmanabhan</a>
                    <p class="navbar-text hidden-xs">Architect @work</p>
                </div>
                <div class="navbar-collapse collapse">
                    <ul class="nav navbar-nav navbar-left">
                        <li >
                        <a id="nav-docs" href="/rubiks">Rubik's</a>
                        </li>

                        <li class="active">
                        <a id="nav-blogs" href="/blog">Blog</a>
                        </li>                        
                        <!-- <li><a href="/tanmayra">Project</a></li> -->
                        <!-- <li class='search visible-xs'><a href="/Search">Search</a></li> -->
                    </ul>

                    <ul class="nav navbar-nav navbar-right">
                        <li >
                        <a id="nav-faqs" href="/about">About</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <!-- navbar 
    <nav class="navbar navbar-inverse">
        <div class="container">
           
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
                <a class="navbar-brand" href="/">Prashant Padmanabhan</a>
                <p class="navbar-text">Architect @work</p>
            </div>
        
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">

                    
                        <li>
                            
                            <a href="/tanmayra"><span class="glyphicon glyphicon-th-large"></span> Tanmayra</a></li>

                          
                            <li>
                                
                                <a href="/about/"><span class="glyphicon glyphicon-heart"></span> About</a></li>
                               
                            <li>
                                
                                <a href="/rubiks/"><span class="glyphicon glyphicon-heart"></span> Rubik's</a></li>
                                         
                </ul>
            </div>
           
        </div>
     
    </nav>-->

</header>


    <div role="main" id="main-content">
        <div class="container body-content docs blog">
            <div class="row">

    <div id="myArticle" class="col-sm-9 col-md-9 body">
        <div class="post-area post">
            <header>
                <h1>Finding large code files with one command</h1>
                <h4>Posted on 27 June 2015 , By <a href="https://www.linkedin.com/in/prashantpadmanabhan">Prashant Padmanabhan</a></h4>                      
            </header>
            <hr>
            <article>
                <p>Here’s a quick way to find unusually large files with many lines of code in your codebase.</p>

<p>While there are many ways to refactor such code it all starts with finding the lengthy files first.
You could use your favorite code analysis tools to do it. But if you are not sure about those then his simple linux command can come handy.</p>

<p>Here’s the command which will list the top 30 files sorted by number of lines in descending order.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">find src/ -name <span class="s2">"*.java"</span> | xargs wc -l | sort -gr | head -30</code></pre></figure>

<p>In case you are not sure what the above command does, then here’s how it works:</p>

<p>We are basically going to combine couple of commands to get to our desired output.</p>

<p>As an example below command will get the count of lines in one single file.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">wc -l src/main/java/com/fancyproject/mode/StackViewManager.java</code></pre></figure>

<p>While this command will find all java files.</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash">find src/ -name <span class="s2">"*.java"</span></code></pre></figure>

<p>So the entire command works like below:</p>

<p>The first part of the command finds all files with extension “.java” under the “src” folder.</p>

<p><strong>find src/ -name “*.java”</strong></p>

<p>Then we pipe that output (file list) using xargs wc -l which finds the number of lines in each file.</p>

<p><strong>xargs wc -l</strong></p>

<p>Then we sort the list by the number of lines using the line count in descending order.</p>

<p><strong>sort -gr</strong></p>

<p>The last command is to limit the output to top 30</p>

<p><strong>head -30</strong></p>

<p><em>That’s it, happy refactoring.</em></p>

            </article>
            <hr> 
            <a href="/blog/java/2015/05/06/strategy-pattern.html">Previous blog：What problem does Strategy Pattern solve</a><br>  
            <a href="/blog/java/2015/11/20/java8-quickly-part1.html">Next blog：Java 8 quickly - Part 1</a> 
            <hr>
            
            <!--
      	<div class="bdsharebuttonbox">
            <a href="#" class="bds_more" data-cmd="more"></a>
            <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
            <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
            <a href="#" class="bds_fbook" data-cmd="fbook" title="Share to Facebook"></a>
            <a href="#" class="bds_copy" data-cmd="copy" title="分享到复制网址"></a>
        </div>
        <script>
            window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"1","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
-->
        </div>
        
    <!-- duoshuo.com javascript include code. -->    
    
    <!-- disqus.com javascript include code. -->
	
    <div class="post-area post comment">
        <div id="disqus_thread"></div>
    </div>
	<script>
		var disqus_config = function () {
			this.page.url = "http://www.prashantp.org/blog/linux/2015/06/27/find-lines-of-code.html"; 
			this.page.identifier = "/blog/linux/2015/06/27/find-lines-of-code"; 
		};
		(function() {
			var d = document, s = d.createElement('script');
			s.src = '//prashantporg.disqus.com/embed.js';
			s.setAttribute('data-timestamp', +new Date());
			(d.head || d.body).appendChild(s);
		})();
	</script>
	
    
    </div>


    <div class="hidden-xs col-sm-3 col-md-3">
        <nav id="docs-subnavbar">

            <h4>Post contents</h4>

            <ul class="nav">

               

            </ul>
            <!--
            <a class="twitter-share-button" href="https://twitter.com/share" 
                data-text="New blog from prashantp.org" 
                data-via="Code" 
                data-counturl="//blog/linux/2015/06/27/find-lines-of-code.html" 
                data-count="vertical">
                Tweet
            </a>
            <div class="connect-widget"></div>
            -->
        </nav>
    </div>

    
    
    
</div>
        </div>
    </div>


    <div id="top" data-toggle="tooltip" data-placement="left" title="back to top">
        <a href="javascript:;">
            <div class="arrow"></div>
            <div class="stick"></div>
        </a>
    </div>

    <footer role="contentinfo">
    <div class="container">
        <div class="row">
            <div class="col-md-9">
                <a href="mailto:prashant.pro@gmail.com"><span class="glyphicon glyphicon-envelope"></span> prashant.pro@gmail.com</a>
                <span class="point"> · </span> 

                <a href="https://github.com/prashantpro">
                    <span class="icon">
              <svg viewBox="0 0 16 16">
                <path fill="#aaa" d="M7.999,0.431c-4.285,0-7.76,3.474-7.76,7.761 c0,3.428,2.223,6.337,5.307,7.363c0.388,0.071,0.53-0.168,0.53-0.374c0-0.184-0.007-0.672-0.01-1.32 c-2.159,0.469-2.614-1.04-2.614-1.04c-0.353-0.896-0.862-1.135-0.862-1.135c-0.705-0.481,0.053-0.472,0.053-0.472 c0.779,0.055,1.189,0.8,1.189,0.8c0.692,1.186,1.816,0.843,2.258,0.645c0.071-0.502,0.271-0.843,0.493-1.037 C4.86,11.425,3.049,10.76,3.049,7.786c0-0.847,0.302-1.54,0.799-2.082C3.768,5.507,3.501,4.718,3.924,3.65 c0,0,0.652-0.209,2.134,0.796C6.677,4.273,7.34,4.187,8,4.184c0.659,0.003,1.323,0.089,1.943,0.261 c1.482-1.004,2.132-0.796,2.132-0.796c0.423,1.068,0.157,1.857,0.077,2.054c0.497,0.542,0.798,1.235,0.798,2.082 c0,2.981-1.814,3.637-3.543,3.829c0.279,0.24,0.527,0.713,0.527,1.437c0,1.037-0.01,1.874-0.01,2.129 c0,0.208,0.14,0.449,0.534,0.373c3.081-1.028,5.302-3.935,5.302-7.362C15.76,3.906,12.285,0.431,7.999,0.431z"></path>
              </svg>
            </span> Github
                    <!-- <span>prashantpro</span> -->
                </a>
                
                <span class="point"> · </span>
                <span><a href="/feed.xml">RSS</a></span>
                <span class="point"> · </span>           
                <span>One mans thoughts and learnings for another.</span>
            </div>
             <div class="col-md-3">
                <span class="point"> · </span>
                <span>&copy; 2016 prashantp.org</span>
            </div>

            </div>
        </div>
    </div>

    <script type="text/javascript" src=" /static/js/jquery-1.11.1.min.js "></script>
    <script type="text/javascript" src=" /static/js/bootstrap.min.js "></script>

    <!-- Latest compiled and minified JavaScript -->
    <!--  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script> -->

    <script type="text/javascript" src=" /static/js/index.js "></script>
    <script type="text/javascript" src=" /static/js/highlight.min.js "></script>
    <script>
        hljs.initHighlightingOnLoad();
        $("body").scrollspy({
            target: "#docs-subnavbar"
        });
        var t = 20;
        $("#docs-navbar, #docs-subnavbar").affix({
            offset: {
                top: function() {
                    return $("#docs-subnavbar").parent().offset().top - t
                },
                bottom: 400
            }
        }), $(".collapse").on("hidden.bs.collapse", function() {
            $(this).parent().addClass("collapsed"), $(this).parent().removeClass("expanded")
        }).on("shown.bs.collapse", function() {
            $(this).parent().addClass("expanded"), $(this).parent().removeClass("collapsed")
        }), $("#small-nav-dropdown").change(function() {
            window.location = this.value
        });
    </script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76164648-1', 'auto');
  ga('send', 'pageview');

</script>


</footer>


    <script type="text/javascript">
        function addBlankTargetForLinks() {
            $('a[href^="http"]').each(function() {
                $(this).attr('target', '_blank');
            });
        }

        $(document).bind('DOMNodeInserted', function(event) {
            addBlankTargetForLinks();
        });
    </script>
</body>

</html>