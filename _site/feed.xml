<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Prashant Padmanabhan</title>
    <description>One mans thoughts and learnings for another.</description>
    <link>http://www.prashantp.org/</link>
    <atom:link href="http://www.prashantp.org/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 07 Sep 2016 20:40:31 +0530</pubDate>
    <lastBuildDate>Wed, 07 Sep 2016 20:40:31 +0530</lastBuildDate>
    <generator>Jekyll v3.2.1</generator>
    
      <item>
        <title>What problem does Strategy Pattern solve</title>
        <description>&lt;p&gt;There are plenty of articles covering this pattern, here I will try to cover the same from a perspective which I believe has helped me really understand what this pattern has to offer. I will try not to throw the pattern at you with all its rules but instead show you how one would end up using it, while correcting few erroneous design choices on the way.&lt;/p&gt;

&lt;p&gt;One of the major benefits of object oriented programming is code reuse.&lt;/p&gt;

&lt;p&gt;Inheritance is widely used to achieve this reuse, as it allows for defining the common behaviour and properties in a super class which all subclasses then inherit.
BUT the problem with inheritance is with its &lt;strong&gt;&lt;em&gt;overuse&lt;/em&gt;&lt;/strong&gt;.&lt;/p&gt;

&lt;p&gt;Check the below example which shows how certain requirement changes can lead to complications in an inheritance based design.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/why-strategy.png&quot; alt=&quot;image-title-here&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Now let’s look at few of the issues with inheritance as depicted with the above design choices:&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;blockquote&gt;
  &lt;ul&gt;
    &lt;li&gt;You can’t change the behavior at runtime.&lt;/li&gt;
    &lt;li&gt;Super class behavior when changed will impact across all subclasses.&lt;/li&gt;
    &lt;li&gt;Not all subclasses may want the behavior of super class thus end up with duplicated code such as empty overrides or their own custom implementations which can’t be reused by other subclasses.&lt;/li&gt;
    &lt;li&gt;With above point, its hard to gain an understanding of all subclass by looking at a super class alone.&lt;/li&gt;
  &lt;/ul&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;could-interfaces-have-helped&quot;&gt;Could interfaces have helped?&lt;/h4&gt;
&lt;p&gt;It could solve some part of the problem, but would not allow for any reuse of code.
As each implementing subclass would provide their own implementation.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;A more elegant solution can be achieved using a strategy pattern which promotes few design principles as well.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;strong&gt;Definition:&lt;/strong&gt; 
Strategy pattern defines a family of algorithms, encapsulates each one and makes them interchangeable. Strategy lets the algorithm vary independently from clients that use it.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Let’s see how a revised design using the pattern would make our code much more flexible.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/assets/images/why-strategy-final.png&quot; alt=&quot;image-title-here&quot; class=&quot;img-responsive&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The above solution is a lot more flexible and still allows for code reuse!&lt;/p&gt;

&lt;p&gt;Here’s few code snippets of how the pattern appears in Java where subclass can set a different behavior:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot; data-lang=&quot;java&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//The Abstract Base class&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;UserAccount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//Default behavior&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;AccountVerification&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EmailVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ActiveCheck&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MemberActive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;

	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setAccountVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AccountVerification&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;verifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;setActiveCheck&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ActiveCheck&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;checker&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;;&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//Delegates the verification behavior to the set algorithm&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;void&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;performVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;verifier&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;c1&quot;&gt;//Delegates the check behavior to the set algorithm&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;performActiveCheck&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;checker&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;isAccountActive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;FreeMember&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserAccount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;FreeMember&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;c1&quot;&gt;//The behavior is set by default but just to show that we could change it here.&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;setAccountVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;EmailVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;setActiveCheck&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MemberActive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;Guest&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;UserAccount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
	&lt;span class=&quot;kd&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;Guest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;c1&quot;&gt;//We need a different Algorithm/Strategy for Verification and ActiveCheck&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;setAccountVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NoVerification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
		&lt;span class=&quot;n&quot;&gt;setActiveCheck&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GuestActive&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;());&lt;/span&gt;
	&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;em&gt;Cheers!&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 06 May 2015 11:10:00 +0530</pubDate>
        <link>http://www.prashantp.org/blog/java/2015/05/06/strategy-pattern.html</link>
        <guid isPermaLink="true">http://www.prashantp.org/blog/java/2015/05/06/strategy-pattern.html</guid>
        
        
        <category>java</category>
        
      </item>
    
      <item>
        <title>How to open a SSH tunnel and keep it running in background!</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#opening-a-ssh-tunnel&quot; id=&quot;markdown-toc-opening-a-ssh-tunnel&quot;&gt;Opening a ssh tunnel&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;opening-a-ssh-tunnel&quot;&gt;Opening a ssh tunnel&lt;/h1&gt;

&lt;p&gt;This is more of a quick note which I required for setting up Apache to serve content via a SSH tunnel.&lt;/p&gt;

&lt;p&gt;So lets say we want to connect to a remote machine using SSH and open a tunnel, this we can do as shown in the previous &lt;a href=&quot;/blog/linux/2015/02/19/how-to-ssh-linux.html&quot;&gt;post&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;But what if you wanted to open the tunnel and keep it running in the background, so you don’t have to keep the terminal open all the time.
You could probably use other techniques, but this is the one I used.&lt;/p&gt;

&lt;p&gt;Here’s how to do that:
ssh -f -N _remote_username@the_remote_server_ip&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The -f option will run the ssh command in the background just before execution. 
Meaning it will allow for entering the password or other inputs before putting it in background.
The -N option will signal that we don’t want to execute any remote commands.
Both options have to be combined to get the desired effect.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;This will return you to the command prompt but still keep the SSH connection and tunnel open.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Cheers!&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Tue, 31 Mar 2015 05:36:00 +0530</pubDate>
        <link>http://www.prashantp.org/blog/linux/2015/03/31/how-to-ssh-tunnel-background.html</link>
        <guid isPermaLink="true">http://www.prashantp.org/blog/linux/2015/03/31/how-to-ssh-tunnel-background.html</guid>
        
        
        <category>linux</category>
        
      </item>
    
      <item>
        <title>Using SSH for accessing remote server via a Jump Host and other handy things!</title>
        <description>&lt;ul id=&quot;markdown-toc&quot;&gt;
  &lt;li&gt;&lt;a href=&quot;#basic-usage&quot; id=&quot;markdown-toc-basic-usage&quot;&gt;Basic usage&lt;/a&gt;    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#config-file&quot; id=&quot;markdown-toc-config-file&quot;&gt;Config file&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#jump-server&quot; id=&quot;markdown-toc-jump-server&quot;&gt;Jump Server&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#port-forwarding-with-jump-server&quot; id=&quot;markdown-toc-port-forwarding-with-jump-server&quot;&gt;Port Forwarding with Jump Server&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#things-you-may-find-handy&quot; id=&quot;markdown-toc-things-you-may-find-handy&quot;&gt;Things you may find handy&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;basic-usage&quot;&gt;Basic usage&lt;/h1&gt;

&lt;p&gt;Lets say you need to connect to a remote Linux server.&lt;/p&gt;

&lt;p&gt;The stand way to connect from terminal:
ssh _remote_username@the_remote_server_ip&lt;/p&gt;

&lt;p&gt;Here, the_remote_server_ip needs to be the IP address or the hostname or the domain name from which the remote server is accessible.&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh prashant@192.168.6.50&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;You should get prompted for a password (passwordless login is possible too, see below), post entering the right credentials you are in.&lt;/p&gt;

&lt;p&gt;You could also write the same command with the -l (that’s lowercase L) argument.&lt;/p&gt;

&lt;p&gt;ssh -l _remote_username the_remote_server_ip&lt;/p&gt;

&lt;p&gt;Example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh -l prashant 192.168.6.50&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Password-less login using SSH is also possible and allows for much easier (also secure) connection.
When you often have to login/logout of various servers this is a great time saver.&lt;/p&gt;

&lt;p&gt;There’s plenty of information out there about how to do this, just search it in on the web.&lt;/p&gt;

&lt;h2 id=&quot;config-file&quot;&gt;Config file&lt;/h2&gt;
&lt;p&gt;Next, to make repeated access easy, create a “config” file in your ssh directory under your users home directory.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;vi ~/.ssh/config&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Put the following content as an example (replace the IP with your remote server IP and replace the Username with yours).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Host remotebox
  Hostname 192.168.6.50
  User prashant&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;With the above config file in place you should be able to now use the below shortcut command:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh remotebox

Above is same as this:
ssh prashant@192.168.6.50

If you wanted to use a different name but still use the config style shortuct:
ssh -l anotherusername remotebox

Above is same as this:
ssh anotherusername@192.168.6.50&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;&lt;br /&gt;
That’s it, you should now have a easy way to login to your target server from a Jump Host with a lot less to type.
As an added advantage you can now access Ports of target server locally. All you need is an &lt;em&gt;active&lt;/em&gt; connection to the target done via ssh.&lt;/p&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;jump-server&quot;&gt;Jump Server&lt;/h1&gt;

&lt;p&gt;Now, with some basics covered here’s what we are trying to do:
You need to access a production server which is behind a firewall (Can’t ssh directly to the server).
But there is a Jump server available.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Jump Server:
A machine that you need to connect to first then only from this machine you can SSH into the remote server.
Jump servers are used to protect the other servers from direct access. 
It would typically be in DMZ while the other servers are in a secure zone.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Now this means you have to &lt;em&gt;first&lt;/em&gt; ssh into the Jump server then from that machine ssh &lt;em&gt;again&lt;/em&gt; to the target server.&lt;/p&gt;

&lt;p&gt;To make it easier to login with a single command edit the ~/.ssh/.config file entry like below:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Host productionbox
  Hostname 10.10.19.20
  User admin
  ProxyCommand ssh -W %h:%p prashant@192.168.6.50&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;ul&gt;
  &lt;li&gt;Here Hostname with 10.10.19.20 is assumed to be the target server IP.&lt;/li&gt;
  &lt;li&gt;The User denotes the remote user on the target server, here admin.&lt;/li&gt;
  &lt;li&gt;ProxyCommand has the user and IP of the Jump Server, like prashant@192.168.6.50.&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;port-forwarding-with-jump-server&quot;&gt;Port Forwarding with Jump Server&lt;/h1&gt;
&lt;p&gt;What if you also wanted to be able to do Port Forwarding.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;A technique which will allow you to access the target machines Port
from your local machine. Given that its blocked from all but allowed only from the Jump Server.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You simply need to add a LocalForward entry to your config like below:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Host productionbox
  Hostname 10.10.19.20
  User admin
  ProxyCommand ssh -W %h:%p prashant@192.168.6.50
  LocalForward 8080 127.0.0.1:8080&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh productionbox&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Once connected any data sent to the local IP:PORT (127.0.0.1 8080) will be directed to the productionbox target server.
(Port on Local machine and target can be different).&lt;/p&gt;

&lt;p&gt;At times the setup can get complicated and you may need to hop between multiple Jump server to reach the target server.
This can be done via &lt;em&gt;ProxyCommand&lt;/em&gt; chaining like below:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;Host jump_box
  Hostname 192.168.6.50
  User prashant
  
Host production_box
  Hostname 10.10.19.20
  User admin
  ProxyCommand ssh -W %h:%p jump_box

Host production_db_box
  Hostname 10.10.19.23
  User admin
  ProxyCommand ssh -W %h:%p production_box
  LocalForward 3306 127.0.0.1:3306

&lt;span class=&quot;c&quot;&gt;#Next on command line you can&lt;/span&gt;
ssh production_db_box&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h1 id=&quot;things-you-may-find-handy&quot;&gt;Things you may find handy&lt;/h1&gt;
&lt;p&gt;You can execute a command on the remote machine without leaving your machine (shell), the command gets executed remotely and your connection is closed post that.&lt;/p&gt;

&lt;p&gt;For being concise I’m using my config file as shortcut for ssh, you could substitue the standard &lt;em&gt;ssh user@remotebox&lt;/em&gt; as needed.&lt;/p&gt;

&lt;p&gt;The below would connect to the remote machine then execute “df -h” on it and display the available and total space on the remote machine as ouput to your terminal.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh remotebox &lt;span class=&quot;s2&quot;&gt;&quot;df -h&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;&lt;br /&gt;
A more advance usage, could be where you need to connect to a MySQL Slave server to check the Slave Running status as below:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh mysqlslave_server &lt;span class=&quot;s2&quot;&gt;&quot;mysql -u admin -p secret -e 'show slave status&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\G&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;' | grep Slave_SQL_Running:&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;&lt;br /&gt;
If you wanted to have some interaction with the remote command before exiting you can do so with “-t” option.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh -t remotebox &lt;span class=&quot;s2&quot;&gt;&quot;top&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;&lt;br /&gt;
Lets say we want to execute multiple commands on the remote machine.
The below would create a file test.txt in the logged in users home directory then do a listing via the ls -l command.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh remotebox &lt;span class=&quot;s2&quot;&gt;&quot;touch test.txt; ls -l&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;
&lt;p&gt;&lt;br /&gt;
&lt;em&gt;Cheers!&lt;/em&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 19 Feb 2015 17:36:00 +0530</pubDate>
        <link>http://www.prashantp.org/blog/linux/2015/02/19/how-to-ssh-linux.html</link>
        <guid isPermaLink="true">http://www.prashantp.org/blog/linux/2015/02/19/how-to-ssh-linux.html</guid>
        
        
        <category>linux</category>
        
      </item>
    
  </channel>
</rss>
